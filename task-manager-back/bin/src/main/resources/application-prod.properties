# Activate with SPRING_PROFILES_ACTIVE=prod (Dockerfile sets it).

# ======= JPA / Hibernate =======
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false

# ======= Datasource (override via env) =======
spring.datasource.url=${DB_URL:jdbc:postgresql://db:5432/TaskManagerDB}
spring.datasource.username=${DB_USER:Inerio}
spring.datasource.password=${DB_PASSWORD:1234}
spring.datasource.driver-class-name=org.postgresql.Driver

# ======= Server / Proxy =======
server.forward-headers-strategy=framework
server.compression.enabled=true

# ======= Upload limits =======
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB

# ======= App =======
app.retention-days=${APP_RETENTION_DAYS:90}
app.upload-dir=${APP_UPLOAD_DIR:/app/uploads}

# ======= CORS =======
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://CHANGE_ME}
app.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,PATCH,DELETE,OPTIONS}
app.cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}

# ======= Actuator =======
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
