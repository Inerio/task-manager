# ===== Hibernate / JPA =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.open-in-view=false

# ===== Datasource =====
spring.datasource.driver-class-name=org.postgresql.Driver

# ===== HTTP / Proxy / Compression =====
server.forward-headers-strategy=framework
server.compression.enabled=true

# SSE / Async: Never timeout SSE requests
spring.mvc.async.request-timeout=-1

# ===== Upload =====
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB

# ===== App =====
app.retention-days=${APP_RETENTION_DAYS:90}
app.upload-dir=${APP_UPLOAD_DIR:/app/uploads}

# ===== CORS (env) =====
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://CHANGE_ME}
app.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,PATCH,DELETE,OPTIONS}
app.cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}

# ===== Actuator =====
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
