<app-confirm-dialog></app-confirm-dialog>
<app-template-picker></app-template-picker>
<app-alert></app-alert>

<div class="main-layout" [class.sidebar-open]="isMdDown() && sidebarOpen()">
  <!-- Sidebar -->
  <app-board-sidebar
    [isMdDown]="isMdDown()"
    [open]="sidebarOpen()"
    [selectedId]="selectedBoardId()"
    (boardSelected)="onBoardSelected($event)"
    (requestClose)="closeSidebar()"
  ></app-board-sidebar>

  <!-- Backdrop (mobile/tablet) -->
  <div
    class="sidebar-backdrop"
    (click)="closeSidebar()"
    [class.visible]="isMdDown() && sidebarOpen()"
  ></div>

  @if (selectedBoardId() !== null) {
  <section class="board-area">
    <app-board-toolbar
      [isMdDown]="isMdDown()"
      [boardId]="selectedBoardId()!"
      [boardName]="selectedBoardName()"
      (requestOpenSidebar)="openSidebar()"
      (boardChangeAfterDelete)="onAfterDelete($event)"
    ></app-board-toolbar>

    <app-board [boardId]="selectedBoardId()!"></app-board>
  </section>
  }
</div>

<footer class="app-footer">
  Â© {{ currentYear }} {{ "app.brand" | transloco }}.
  {{ "app.copyright" | transloco }}
</footer>

<app-loading-overlay></app-loading-overlay>
