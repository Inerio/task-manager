<header class="board-header">
  <!-- Burger -->
  <button
    type="button"
    class="sidebar-burger"
    (click)="openSidebar()"
    [attr.aria-label]="'common.openMenu' | transloco"
    title="{{ 'common.openMenu' | transloco }}"
  >
    <img
      src="/svg/menu.svg"
      width="20"
      height="20"
      alt="menu"
      aria-hidden="true"
    />
  </button>

  <div class="board-title-wrapper">
    @if (!editingSelectedBoard()) {
    <h2
      class="selected-board-title"
      tabindex="0"
      (click)="startSelectedBoardEdit()"
      (keydown.enter)="onTitleEnter($event)"
      (keydown.space)="startSelectedBoardEdit()"
      [attr.title]="'boards.editTitleHint' | transloco"
    >
      <span class="board-title-text">{{ resolvedName() }}</span>
      <button
        class="styled-x-btn"
        [title]="'boards.delete' | transloco"
        (click)="deleteSelectedBoard(); $event.stopPropagation()"
        [attr.aria-label]="'boards.delete' | transloco"
      >
        <img
          src="/svg/x.svg"
          [attr.alt]="'boards.delete' | transloco"
          width="18"
          height="18"
        />
      </button>
    </h2>
    } @else {
    <input
      #editSelectedBoardInput
      class="selected-board-title-edit"
      type="text"
      [value]="editingSelectedBoardValue()"
      (input)="onEditSelectedBoardInput($event)"
      (blur)="saveSelectedBoardEdit()"
      (keydown.enter)="saveSelectedBoardEdit()"
      (keydown.escape)="cancelSelectedBoardEdit()"
      maxlength="60"
      required
      autofocus
      placeholder="{{ 'boards.namePlaceholder' | transloco }}"
      [attr.aria-label]="'boards.namePlaceholder' | transloco"
    />
    }
  </div>

  <div class="header-actions">
    <button
      class="delete-btn styled-trash-btn delete-all-btn"
      (click)="deleteAllTasks()"
      [title]="'boards.deleteAll' | transloco"
      [attr.aria-label]="'boards.deleteAll' | transloco"
    >
      <img
        src="/svg/trash-red.svg"
        [attr.alt]="'boards.deleteAll' | transloco"
        width="19"
        height="19"
      />
      <span class="delete-all-label">
        {{ "boards.deleteAll" | transloco }}
      </span>
    </button>

    <button
      type="button"
      class="uid-btn"
      (click)="showAccountDialog.set(true)"
      [title]="'identity.openTooltip' | transloco"
      [attr.aria-label]="'identity.openTooltip' | transloco"
    >
      <img
        src="/svg/share.svg"
        width="18"
        height="18"
        [attr.alt]="'identity.title' | transloco"
      />
    </button>
  </div>
</header>

<!-- Identity dialog -->
<app-account-id-dialog
  [open]="showAccountDialog()"
  (close)="showAccountDialog.set(false)"
  (switched)="onUidSwitched($event)"
></app-account-id-dialog>
