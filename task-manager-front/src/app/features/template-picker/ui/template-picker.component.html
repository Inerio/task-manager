@if (visible()) {
<div class="picker-backdrop" (click)="skip()">
  <div
    #dialog
    class="picker"
    role="dialog"
    aria-modal="true"
    aria-labelledby="picker-title"
    aria-describedby="picker-subtitle"
    (click)="$event.stopPropagation()"
    tabindex="0"
  >
    <h3 id="picker-title" class="title">
      {{ "boards.templates.title" | transloco }}
    </h3>
    <p id="picker-subtitle" class="subtitle">
      {{ "boards.templates.subtitle" | transloco }}
    </p>

    <div class="cards">
      @for (t of templates(); track t.id) {
      <button
        class="card"
        type="button"
        (click)="choose(t.id)"
        [attr.aria-label]="
          ('boards.templates.use' | transloco) + ' â€“ ' + t.title
        "
      >
        <div class="card-title">{{ t.title }}</div>

        <div class="cols">
          @for (c of t.cols; track c) {
          <span class="col-pill">{{ c }}</span>
          }
        </div>

        @if (t.desc) {
        <div class="desc">{{ t.desc }}</div>
        }

        <div class="use">{{ "boards.templates.use" | transloco }}</div>
      </button>
      }
    </div>

    <div class="footer">
      <!-- Sticky, easy to reach on mobile -->
      <button type="button" class="btn-skip" (click)="skip()">
        {{ "boards.templates.skip" | transloco }}
      </button>
    </div>
  </div>
</div>
}
